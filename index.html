<!DOCTYPE html>

<html lang="es">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="Calculadora gratuita de rentabilidad de alquiler en Espa√±a. Calcula TIR, ROI, cashflow mensual, ITP, hipoteca y proyecci√≥n a√±o a a√±o de tu inversi√≥n inmobiliaria."/>
    <meta name="keywords" content="calculadora rentabilidad alquiler, inversi√≥n inmobiliaria espa√±a, calcular ROI piso, TIR inmobiliaria, cashflow alquiler, ITP vivienda"/>
    <meta name="author" content="Calculadora Inversi√≥n Inmobiliaria"/>
    <meta property="og:title" content="Calculadora de Inversi√≥n Inmobiliaria | Espa√±a"/>
    <meta property="og:description" content="Analiza la rentabilidad de tu inversi√≥n en alquiler: TIR, ROI, cashflow y proyecci√≥n a 20 a√±os."/>
    <meta property="og:type" content="website"/>
    <title>Calculadora de Inversi√≥n Inmobiliaria | Rentabilidad Alquiler Espa√±a</title>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,400&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet"/>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- Disclaimer modal -->

<div class="disclaimer-overlay" id="disclaimerOverlay">
    <div class="disclaimer-modal">
        <div class="disclaimer-icon">‚öñÔ∏è</div>
        <h2 data-i18n="disclaimer_titulo">Aviso Legal</h2>
        <p data-i18n="disclaimer_texto">Esta calculadora proporciona estimaciones orientativas con fines informativos. Los resultados <strong>no constituyen asesoramiento financiero, fiscal ni jur√≠dico</strong>. Las rentabilidades pasadas no garantizan rentabilidades futuras. Consulta siempre con un profesional cualificado antes de tomar decisiones de inversi√≥n.</p>
        <label class="disclaimer-check">
            <input type="checkbox" id="disclaimerCheck"/>
            <span data-i18n="disclaimer_acepto">He le√≠do y acepto que esta herramienta es orientativa y no sustituye al asesoramiento profesional</span>
        </label>
        <button class="btn btn-primary btn-block" id="disclaimerBtn" data-i18n="disclaimer_continuar">Continuar a la calculadora</button>
    </div>
</div>

<div class="bg-particles" id="particles"></div>
<div class="app-container">

```
<header class="header">
    <div class="language-selector">
        <select id="langSelector">
            <option value="es">üá™üá∏ Espa√±ol</option>
            <option value="en">üá¨üáß English</option>
        </select>
    </div>
    <div class="header-content">
        <div class="header-badge" data-i18n="header_badge">Herramienta gratuita ¬∑ Espa√±a</div>
        <h1 data-i18n="calculadora_inversion">üè† Calculadora de Inversi√≥n Inmobiliaria</h1>
        <p data-i18n="analisis_completo">An√°lisis completo para inversi√≥n en alquiler ¬∑ TIR ¬∑ ROI ¬∑ Cashflow ¬∑ Proyecci√≥n a largo plazo</p>
    </div>
</header>

<main class="main-content">
    <div class="content-grid">

        <!-- Panel de Configuraci√≥n -->
        <div class="glass-card config-panel">
            <div class="card-header">
                <div class="card-title"><span data-i18n="configuracion_inversion">‚öôÔ∏è Configuraci√≥n de Inversi√≥n</span></div>
                <div class="card-subtitle"><span data-i18n="personaliza_parametros">Personaliza todos los par√°metros de tu an√°lisis</span></div>
            </div>
            <div class="card-body">
                <div class="nav-tabs">
                    <button class="nav-tab active" data-tab="propiedad"><span data-i18n="propiedad">üè† Propiedad</span></button>
                    <button class="nav-tab" data-tab="financiacion"><span data-i18n="financiacion">üí∞ Financiaci√≥n</span></button>
                    <button class="nav-tab" data-tab="ingresos"><span data-i18n="ingresos">üìà Ingresos</span></button>
                    <button class="nav-tab" data-tab="gastos"><span data-i18n="gastos">üìä Gastos</span></button>
                    <button class="nav-tab" data-tab="revalorizacion"><span data-i18n="revalorizacion">üíé Revalorizaci√≥n</span></button>
                </div>

                <!-- Tab: Propiedad -->
                <div class="tab-content active" id="propiedad-tab">
                    <div class="form-group">
                        <label class="form-label" data-i18n="precio_compra">Precio de compra</label>
                        <div class="input-group">
                            <input class="form-input with-suffix" id="precio" min="0" step="1000" type="number" value="140000"/>
                            <span class="input-suffix">‚Ç¨</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="tipo_vivienda">Tipo de vivienda</label>
                        <select class="form-select" id="tipoVivienda">
                            <option value="segunda" data-i18n="segunda_vivienda">Segunda vivienda (7% ITP)</option>
                            <option value="nueva" data-i18n="vivienda_nueva">Vivienda nueva (10% IVA + 1.2% AJD)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="gastos_compra">Gastos de compra-venta</label>
                        <div class="input-group">
                            <input class="form-input with-suffix" id="gastosCompra" min="0" step="100" type="number" value="3500"/>
                            <span class="input-suffix">‚Ç¨</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="gastos_reforma">Gastos de reforma</label>
                        <div class="input-group">
                            <input class="form-input with-suffix" id="reforma" min="0" step="100" type="number" value="5000"/>
                            <span class="input-suffix">‚Ç¨</span>
                        </div>
                    </div>
                </div>

                <!-- Tab: Financiaci√≥n -->
                <div class="tab-content" id="financiacion-tab">
                    <div class="form-group">
                        <label class="form-label" data-i18n="tipo_financiacion">Tipo de financiaci√≥n</label>
                        <select class="form-select" id="financiacionTipo">
                            <option value="con_hipoteca" data-i18n="con_hipoteca">Con hipoteca</option>
                            <option value="sin_hipoteca" data-i18n="sin_hipoteca">Sin hipoteca</option>
                        </select>
                    </div>
                    <div class="form-group" id="entradaGroup">
                        <label class="form-label" data-i18n="ahorro_aportado">Ahorro aportado</label>
                        <div class="input-group">
                            <input class="form-input with-suffix" id="entradaEuros" min="0" step="1000" type="number" value="28000"/>
                            <span class="input-suffix" id="entradaPorcentajeDisplay">20%</span>
                        </div>
                        <div class="slider-container">
                            <input type="range" id="entradaSlider" class="form-slider" min="0" max="140000" step="1000" value="28000"/>
                        </div>
                    </div>
                    <div class="form-group" id="interesGroup">
                        <label class="form-label" data-i18n="interes_hipoteca">Tipo de inter√©s hipoteca</label>
                        <div class="input-group">
                            <input class="form-input with-suffix" id="interes" max="15" min="0" step="0.1" type="number" value="2.5"/>
                            <span class="input-suffix">%</span>
                        </div>
                    </div>
                    <div class="form-group" id="anosGroup">
                        <label class="form-label" data-i18n="anos_hipoteca">A√±os de hipoteca</label>
                        <input class="form-input" id="anos" max="40" min="5" step="1" type="number" value="25"/>
                    </div>
                    <div class="form-group" id="gastosHipGroup">
                        <label class="form-label" data-i18n="gastos_hipoteca">Gastos de hipoteca</label>
                        <div class="input-group">
                            <input class="form-input with-suffix" id="gastosHipoteca" min="0" step="100" type="number" value="2500"/>
                            <span class="input-suffix">‚Ç¨</span>
                        </div>
                    </div>
                </div>

                <!-- Tab: Ingresos -->
                <div class="tab-content" id="ingresos-tab">
                    <div class="form-group">
                        <label class="form-label" data-i18n="alquiler_mensual">Alquiler mensual</label>
                        <div class="input-group">
                            <input class="form-input with-suffix" id="alquiler" min="0" step="50" type="number" value="800"/>
                            <span class="input-suffix" data-i18n="mes">‚Ç¨/mes</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="meses_vacios">Meses vac√≠o al a√±o</label>
                        <input class="form-input" id="mesesVacio" max="12" min="0" step="0.5" type="number" value="1"/>
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="incremento_alquiler">Incremento anual del alquiler</label>
                        <div class="input-group">
                            <input class="form-input with-suffix" id="incrementoAlquiler" max="10" min="0" step="0.1" type="number" value="2"/>
                            <span class="input-suffix">%</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="anos_analisis">A√±os de an√°lisis</label>
                        <input class="form-input" id="anosAnalisis" max="40" min="1" step="1" type="number" value="20"/>
                    </div>
                </div>

                <!-- Tab: Gastos -->
                <div class="tab-content" id="gastos-tab">
                    <div class="form-group">
                        <label class="form-label" data-i18n="ibi_anual">IBI anual</label>
                        <div class="input-group">
                            <input class="form-input with-suffix" id="ibi" min="0" step="50" type="number" value="500"/>
                            <span class="input-suffix" data-i18n="ano">‚Ç¨/a√±o</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="gastos_comunidad">Gastos de comunidad</label>
                        <div class="input-group">
                            <input class="form-input with-suffix" id="comunidad" min="0" step="10" type="number" value="80"/>
                            <span class="input-suffix" data-i18n="mes">‚Ç¨/mes</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="seguro_hogar">Seguro de hogar</label>
                        <div class="input-group">
                            <input class="form-input with-suffix" id="seguro" min="0" step="50" type="number" value="300"/>
                            <span class="input-suffix" data-i18n="ano">‚Ç¨/a√±o</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="seguro_impago">Seguro de impago</label>
                        <div class="input-group">
                            <input class="form-input with-suffix" id="seguroImpago" min="0" step="50" type="number" value="200"/>
                            <span class="input-suffix" data-i18n="ano">‚Ç¨/a√±o</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="mantenimiento">Mantenimiento y reparaciones</label>
                        <div class="input-group">
                            <input class="form-input with-suffix" id="mantenimiento" min="0" step="50" type="number" value="500"/>
                            <span class="input-suffix" data-i18n="ano">‚Ç¨/a√±o</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="administracion">Administraci√≥n/Gesti√≥n</label>
                        <div class="input-group">
                            <input class="form-input with-suffix" id="administracion" min="0" step="10" type="number" value="60"/>
                            <span class="input-suffix" data-i18n="mes">‚Ç¨/mes</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="incremento_gastos">Incremento anual de gastos</label>
                        <div class="input-group">
                            <input class="form-input with-suffix" id="incrementoGastos" max="10" min="0" step="0.1" type="number" value="0"/>
                            <span class="input-suffix">%</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="tasa_impositiva">Tasa impositiva sobre alquiler neto</label>
                        <div class="input-group">
                            <input class="form-input with-suffix" id="taxAlquiler" max="47" min="0" step="0.1" type="number" value="21"/>
                            <span class="input-suffix">%</span>
                        </div>
                    </div>
                </div>

                <!-- Tab: Revalorizaci√≥n -->
                <div class="tab-content" id="revalorizacion-tab">
                    <div class="form-group">
                        <label class="form-label" data-i18n="revalorizacion_anual">Revalorizaci√≥n anual del inmueble</label>
                        <div class="input-group">
                            <input class="form-input with-suffix" id="revalorizacion" max="15" min="-5" step="0.1" type="number" value="2.5"/>
                            <span class="input-suffix">%</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="gastos_venta">Gastos de venta futura</label>
                        <div class="input-group">
                            <input class="form-input with-suffix" id="gastosVenta" max="15" min="0" step="0.1" type="number" value="8"/>
                            <span class="input-suffix">%</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="plusvalia">Impuesto plusval√≠a municipal</label>
                        <div class="input-group">
                            <input class="form-input with-suffix" id="plusvalia" min="0" step="100" type="number" value="2000"/>
                            <span class="input-suffix">‚Ç¨</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="irpf_venta">IRPF por venta (19-23%)</label>
                        <div class="input-group">
                            <input class="form-input with-suffix" id="irpfVenta" max="47" min="0" step="0.1" type="number" value="19"/>
                            <span class="input-suffix">%</span>
                        </div>
                    </div>

                    <!-- Escenarios -->
                    <div class="scenario-section">
                        <div class="scenario-label" data-i18n="escenarios_label">‚ö° Escenarios r√°pidos</div>
                        <div class="scenario-buttons">
                            <button class="btn-scenario" data-i18n="escenario_pesimista" onclick="aplicarEscenario('pesimista')">üòü Pesimista</button>
                            <button class="btn-scenario active" data-i18n="escenario_realista" onclick="aplicarEscenario('realista')">üòê Realista</button>
                            <button class="btn-scenario" data-i18n="escenario_optimista" onclick="aplicarEscenario('optimista')">üöÄ Optimista</button>
                        </div>
                    </div>
                </div>

                <!-- Botones de acci√≥n -->
                <div class="action-buttons">
                    <button class="btn btn-share" id="shareBtn">
                        <span data-i18n="btn_compartir">üîó Compartir an√°lisis</span>
                    </button>
                    <button class="btn btn-primary btn-block" id="calcularBtn">
                        <span data-i18n="analizar_inversion">üßÆ Analizar Inversi√≥n</span>
                    </button>
                </div>

                <!-- Notificaci√≥n de enlace copiado -->
                <div class="share-toast" id="shareToast" data-i18n="share_toast">‚úÖ Enlace copiado al portapapeles</div>
            </div>
        </div>

        <!-- Panel de Resultados -->
        <div class="glass-card results-panel">
            <div class="card-header">
                <div class="card-title"><span data-i18n="analisis_rentabilidad">üìä An√°lisis de Rentabilidad</span></div>
                <div class="card-subtitle"><span data-i18n="resultados_completos">Resultados completos de tu inversi√≥n a largo plazo</span></div>
            </div>
            <div class="card-body">
                <div id="resultados">
                    <div class="empty-state">
                        <div class="empty-state-icon">üìà</div>
                        <h3 data-i18n="analiza_inversion">¬°Analiza tu inversi√≥n inmobiliaria!</h3>
                        <p data-i18n="completa_datos">Completa los datos en el panel izquierdo y haz clic en "Analizar Inversi√≥n" para obtener un an√°lisis detallado de rentabilidad con proyecci√≥n a largo plazo.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Secci√≥n SEO / Gu√≠a -->
    <section class="seo-section">
        <div class="seo-grid">
            <div class="seo-card">
                <div class="seo-icon">üè†</div>
                <h3 data-i18n="seo_itp_titulo">¬øQu√© es el ITP?</h3>
                <p data-i18n="seo_itp_texto">El Impuesto de Transmisiones Patrimoniales grava la compra de vivienda de segunda mano. En Espa√±a oscila entre el 6% y el 10% seg√∫n la comunidad aut√≥noma. Para la calculadora usamos el valor medio del 7%.</p>
            </div>
            <div class="seo-card">
                <div class="seo-icon">üìä</div>
                <h3 data-i18n="seo_tir_titulo">¬øC√≥mo interpretar la TIR?</h3>
                <p data-i18n="seo_tir_texto">La Tasa Interna de Retorno (TIR) mide la rentabilidad anual compuesta considerando tanto los flujos de caja por alquiler como la ganancia por revalorizaci√≥n al vender. Una TIR superior al 6-7% supera la media hist√≥rica del mercado inmobiliario espa√±ol.</p>
            </div>
            <div class="seo-card">
                <div class="seo-icon">üíß</div>
                <h3 data-i18n="seo_cashflow_titulo">Cashflow positivo vs negativo</h3>
                <p data-i18n="seo_cashflow_texto">Un cashflow positivo significa que el alquiler cubre todos los gastos e hipoteca con dinero de sobra cada mes. Un cashflow negativo implica que debes aportar dinero mensualmente, apostando por la revalorizaci√≥n futura del inmueble.</p>
            </div>
            <div class="seo-card">
                <div class="seo-icon">‚öñÔ∏è</div>
                <h3 data-i18n="seo_aviso_titulo">Aviso importante</h3>
                <p data-i18n="seo_aviso_texto">Esta calculadora es una herramienta orientativa. Los resultados dependen de las hip√≥tesis introducidas. La fiscalidad, los tipos de inter√©s y el mercado inmobiliario pueden cambiar significativamente. Consulta siempre con un asesor financiero o fiscal antes de invertir.</p>
            </div>
        </div>
    </section>
</main>

<!-- Resumen flotante (mobile) -->
<div class="floating-summary" id="floatingSummary">
    <div class="floating-label" data-i18n="rentabilidad_flujo">Cashflow mensual</div>
    <div id="floatingValue" class="floating-value">-</div>
    <div class="floating-tir" id="floatingTir"></div>
</div>
```

</div>

<script src="app.js"></script>

</body>
</html>